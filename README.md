
# subdenum – Automated Subdomain Enumeration & Recon Toolkit

A fast and extensible Bash script for **subdomain enumeration** and **live host detection**.
`subdenum` combines multiple industry-standard tools into a single workflow, automatically aggregating results, filtering duplicates, and optionally taking screenshots with Aquatone. The script now supports improved output handling, error checking, and flexible scan modes.



## ✨ Features

- **Multi-source subdomain discovery**: `assetfinder`, `crt.sh`, `findomain`, `subfinder`, `sublist3r`, `puredns`, `amass` (deep mode), `ffuf` (deep mode).
- **Bruteforce support** with configurable wordlists (default: top 20,000 subdomains).
- **Live host detection** using `httpx` (CSV output).
- **Screenshot & site mapping** via Aquatone (function included, call is commented by default).
- **Fast and Deep scan modes**: Deep mode adds Amass and FFUF for more comprehensive results.
- **Automatic tool and wordlist checks**: Script verifies dependencies and wordlist presence before running.
- **Structured output** in `$HOME/bug_hunting_data/<target>/subdomain`.



## 🛠️ Requirements

Install the following tools before running:

```bash
# System packages
sudo apt update && sudo apt install -y curl jq

# Amass (Deep mode)
sudo apt install -y amass

# Assetfinder
go install github.com/tomnomnom/assetfinder@latest

# Subfinder
go install github.com/projectdiscovery/subfinder/v2/cmd/subfinder@latest

# FFUF (Deep mode)
go install github.com/ffuf/ffuf@latest

# HTTPX
go install github.com/projectdiscovery/httpx/cmd/httpx@latest

# GoWitness (Screenshot taker)
go install github.com/sensepost/gowitness@latest

# PureDNS
go install github.com/d3mondev/puredns/v2@latest

# MassDNS
git clone https://github.com/blechschmidt/massdns.git ~/massdns
cd ~/massdns
make
sudo cp bin/massdns /usr/local/bin/
cd -

# Sublist3r
git clone https://github.com/aboul3la/Sublist3r.git ~/Sublist3r
sudo apt install -y python3-pip
pip3 install -r ~/Sublist3r/requirements.txt

# Findomain (precompiled)
wget https://github.com/findomain/findomain/releases/latest/download/findomain-linux -O ~/findomain
chmod +x ~/findomain
sudo mv ~/findomain /usr/local/bin/

```

Also, ensure you have a valid resolver list at `resolver.txt` inside the script directory.
The default wordlist is `/usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt`.


## 📦 Installation

Clone the repository and make the script executable:

### One line installation command
```bash
git clone https://github.com/ncodevsec/autohunt.git && cd autohunt && chmod +x setup.sh && ./setup.sh -i
```
### Step by step installation process
```bash
# Clone repo
cd autohunt

# Make setup script executable
chmod +x setup.sh

# Install alias
./setup.sh -i

# Run the tool
subdenum <domain>

# Uninstall alias
./setup.sh uninstall

# Show setup help
./setup.sh -h

```

One line installation command
```bash
git clone https://github.com/ncodevsec/autohunt.git && cd autohunt && chmod +x setup.sh && ./setup.sh -i && source ~/.bashrc
```

Update the wordlist path in the script if needed:
```bash
# Edit the WORDLIST variable in subdenum.sh if you want a different wordlist
WORDLIST="/usr/share/seclists/Discovery/DNS/deepmagic.com-prefixes-top500.txt"
```


## 🚀 Usage

```bash
subdenum <target-domain> <option>
```
```bash
Options:
   blank        Scan in Normal Mode (Default)
   --deep       Scan in Deep Mode

Example:
  subdenum example.com          # To run in normal mode
  subdemun example.com --deep   # To run in deep mode
```


- `<target-domain>`: Domain to enumerate (e.g. `example.com`)
- `<mode>`: `fast` (default) or `deep`
    - `deep` mode runs additional tools like Amass and FFUF for brute forcing and extended enumeration.

Examples:

```bash
# Fast Mode (default)
subdenum example.com

# Deep Mode (more comprehensive)
subdenum example.com deep
```


## 📂 Output Structure

Results are stored under:
```bash
# Output Directory
$HOME/bug_hunting_data/<target-domain>/subdomain/

# Directory Structure
┌──(user㉿host)-[~/bug_hunting_data/example.com/subdomain]
└─$ tree
.
├── all.txt         # All subdomains
├── alive.txt       # Alive subdomains
├── 404.txt         # Dead subdomains
├── subdomains.csv  # All subdomains status data (generated by httpx)
└── tools_findings  # Enum tools findings dir
    ├── amass.txt        # Subdomain list found by Amass
    ├── assetfinder.txt  # Subdomain list found by Assetfinder
    ├── crt.txt          # Subdomain list found by crt.sh
    ├── ffuf.txt         # Subdomain list found by FFUF
    ├── findomain.txt    # Subdomain list found by Findomain
    ├── puredns.txt      # Subdomain list found by PureDNS
    ├── subfinder.txt    # Subdomain list found by Subfinder
    └── sublist3r.txt    # Subdomain list found by Sublist3r
├── gowitness.sqlite3  # GoWitness scan database
├── screenshots        # Subdomains screenshot dir
│   ├── https---09.example.com-443.jpeg
│   ├── https---127.localhost.example.com-443.jpeg
│   └── https---zoom.us.example.com-443.jpeg
```

## 📝 Notes

- Ensure your wordlist and `resolver.txt` are correctly configured.
- Aquatone execution is defined but commented out — uncomment the `aquatone` function call in the script to enable screenshots.
- The script now merges and cleans all subdomain results, strips protocols, and outputs to `all.txt` before live host checking.
- Live host filtering is performed with `httpx` and results are saved as CSV in `httpx.csv`.
- Output directory is now `$HOME/bug_hunting_data/<target>/subdomain`.


## 💡 Tips for Bug Hunters

- Run `fast` mode frequently for quick recon.
- Use `deep` mode for comprehensive enumeration before a full engagement.
- Combine output with other tools (e.g. nuclei, dirsearch) for deeper testing.
- Review the script output and logs for any missing dependencies or errors.
- Customize the wordlist and scan logic as needed for your workflow.
